#include <stdio.h>

void input();
void order(int p,int q);
int a[100];
int arraysize;


void main()
{
    input();
    order(0,arraysize);
}

void input()
{
    int i;
    printf("Enter array size \n");
    scanf("%d",&arraysize);
    
    for(i=0;i<arraysize;i++)
    {
        a[i]=(rand()%20)+1;
    }
    
    for(i=0;i<arraysize;i++)
    {
        printf("a[%d]=%d \n",i,a[i]);
    }
    
};

void order(int p,int q)
{
    int i;
    int j;
    int pivot;
    int lastSwapFrom;
    int swaps;
    int dummy;
    int k;
    int lastSwapTo;//Final position of pivot
    
    pivot=a[q];//Declare pivot
    lastSwapFrom=q;//Default location of pivot
    
    
    
    for(i=p;i<=q;i++)//Taking an index position
    {
        if(a[i]>pivot&&lastSwapFrom==q)//Insuring index is greater than pivot
        {
            swaps=0;
            for(j=i+1;j<=q&&swaps==0;j++)//Comparing pivot to numbers after index
            {
                if(a[j]<=pivot)//Checking for number less than or equal to pivot
                {
                    dummy=a[j];
                    a[j]=a[i];
                    a[i]=dummy;
                    lastSwapFrom=j;
                    lastSwapTo=i;
                    swaps=1; 
                }
                
                for(k=0;k<arraysize;k++)
                {
                    printf(" %d ",a[k]);
                }
                
                 printf("\n\n");
            }
           
        }
    }
    
    
    
    
    
    
};
